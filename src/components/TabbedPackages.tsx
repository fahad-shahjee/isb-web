import { useCallback, useEffect, useMemo, useState } from "react";
import PricingSection, { type Plan } from "@/components/Packages/PricingSection";
import ServiceInquiryModal from "@/components/ServiceInquiryModal"; // <-- use your existing modal

/**
 * TabbedPackages
 * - Accessible tabs (keyboard + ARIA) that swap different package groups.
 * - Reuses <PricingSection /> and injects CTA.onClick to open the modal.
 */

const logoPlans: Plan[] = [
  { title: "Basic Logo Package", price: 29.99, features: ["3 Logo Concepts", "3 Revisions", "24h TAT", "100% Satisfaction Guarantee", "100% Satisfaction Guarantee", "100% Money Back Guarantee" ], cta: { label: "Select Plan" } },
  { title: "Beginners Logo Package", price: 89.99, highlight: true, features: ["6 Concepts", "Free Icon", "Free Grayscale Formats", "Free Color Options", "6 Revisions","24 Hours TAT","Files Format (JPEG, PNG, PDF, TIFF)", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee"], cta: { label: "Select Plan" } },
  { title: "Silver Logo Package", price: 149.99, features: ["10 Concepts", "4 Dedicated Designers", "Unlimited Revisions", "Free Icon","FREE Custom Stationery Design (Letterhead, Envelope, Business Card)", "FREE MS Word Letterhead", "FREE Grayscale Formats", "FREE Color Options", "24 Hours TAT", "FREE File Formats (JPEG, PNG, PDF, PSD, EPS, TIFF)", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee (No Template)", "100% Money Back Guarantee" ], cta: { label: "Select Plan" } },
  { title: "Gold Logo Package", price: 199.99, features: ["Unlimited Custom Logo Design Concepts", "6 Dedicated Designers", "Unlimited Revisions", "FREE MS Word Letterhead","FREE Custom Stationery Design", "Free Email Signature", "FREE Grayscale Formats", "FREE Color Options", "Free Invoice Design", "24 Hours TAT", "FREE File Formats (JPEG, PNG, PDF, PSD, EPS, TIFF)", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee (No Template)", "100% Money Back Guarantee" ], cta: { label: "Select Plan" } },
  { title: "Platinum Logo Package", price: 249.99, features: ["Unlimited Logo Concepts", "8 Dedicated Designers", "Unlimited Revisions", "2 Free Custom Stationery Designs (Letterhead, Envelope, Business Card, Contract Cover Page Design)","2 Sided Flyer (OR) Bi-Fold Brochure Design", "FREE MS Word Letterhead", "Free Email Signature", "Free Invoice Design", "Free Invoice Design", "All Final File Format (AI, PSD, EPS, PNG, GIF, JPG, PDF)", "02 Hours TAT", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee (No Template)", "100% Money Back Guarantee" ], cta: { label: "Select Plan" } },
  { title: "Elite Logo Package", price: 249.99, features: ["Unlimited Logo Concepts", "10 Dedicated Designers", "Unlimited Revisions", "2 Free Custom Stationery Designs (Letterhead, Envelope, Business Card, Contract Cover Page Design)","2 Sided Flyer (OR) Bi-Fold Brochure Design", "Social Media Pages Design (i.e. Facebook, Twitter, LinkedIn, Pinterest, Instagaram, Google+) (Any 3)", "Social Media Size Images", "T-Shirt Design, Signage Design, Packaging Design (Any 2)", "FREE MS Word Letterhead", "Free Email Signature", "Free Invoice Design", "All Final File Format (AI, PSD, EPS, PNG, GIF, JPG, PDF)", "24 Hours TAT", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee (No Template)", "100% Money Back Guarantee" ], cta: { label: "Select Plan" } },
  { title: "3D Logo Package", price: 339.99, highlight: true, features: ["3 Unique 3D Logo Concepts", "Light Effects and VFX", "Fully Rendered", "Multiple 3D Angles", "By 3 Award Winning Designers","72 hours Turnaround Time","UNLIMITED Revisions", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee"], cta: { label: "Select Plan" } },
];

const webPlans: Plan[] = [
  { title: "Startup Website Package", price: 199.99, features: ["5 Stock Photos", "3 Page Website", "3 Banner Design", "1 jQuery Slider Banner", "FREE Google Friendly Sitemap", "Complete W3C Certified HTML", "48 to 72 hours TAT", "Facebook Page Design", "Twitter Page Design", "YouTube Page Design", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee", "Mobile Responsive will be Additional $99*", "CMS will be Additional $299*"], cta: { label: "Select Plan" } },
  { title: "Pro Website Package", price: 599.99, highlight: true, features: ["10 Unique Pages Website", "CMS / Admin Panel Support", "8 Stock images", "5 Banner Designs", "1 jQuery Slider Banner", "FREE Google Friendly Sitemap", "Complete W3C Certified HTML", "48 to 72 hours TAT", "Facebook Page Design", "Twitter Page Design", "YouTube Page Design", "Complete Deployment", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee *", "Mobile Responsive will be Additional $99*"], cta: { label: "Select Plan" } },
  { title: "Elite Website Package", price: 999.99, features: ["Upto 15 Unique Pages Website", "Conceptual and Dynamic Website", "Mobile Responsive", "Online Reservation/Appointment Tool (Optional)", "Online Payment Integration (Optional)", "Custom Forms", "Lead Capturing Forms (Optional)", "Striking Hover Effects", "Newsletter Subscription (Optional)", "Newsfeed Integration", "Social Media Integration", "Search Engine Submission", "5 Stock Photos", "3 Unique Banner Design", "1 jQuery Slider Banner", "Complete W3C Certified HTML", "48 to 72 hours TAT", "Facebook Page Design", "Twitter Page Design", "YouTube Page Design", "Complete Deployment", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Silver Startup Package", price: 1599.99, features: ["15 to 20 Pages Website", "Custom Made, Interactive, Dynamic & High End Design", "Custom WP", "1 jQuery Slider Banner", "Up to 10 Custom Made Banner Designs", "10 Stock Images", "Unlimited Revisions", "Special Hoover Effects", "Content Management System (CMS)", "Online Appointment/Scheduling/Online Ordering Integration (Optional)", "Online Payment Integration (Optional)", "Multi Lingual (Optional)", "Custom Dynamic Forms (Optional)", "Signup Area (For Newsletters, Offers etc.)", "Search Bar", "Live Feeds of Social Networks integration (Optional)", "Mobile Responsive", "Free Google Friendly Sitemap", "Search Engine Submission", "Complete W3C Certified HTML", "Industry Specified Team of Expert Designers and Developers", "Complete Deployment", "Dedicated Accounts Manager", "Facebook Page Design", "Twitter Page Design", "YouTube Page Design", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Business Website Package", price: 2499.99, features: ["Unlimited Unique Pages Website", "Custom Made, Interactive, Dynamic & High End Design", "Custom WP (or) Custom PHP Development", "1 jQuery Slider Banner", "Up to 10 Custom Made Banner Designs", "10 Stock Images", "Unlimited Revisions", "Special Hoover Effects", "Content Management System (CMS)", "Online Appointment/Scheduling/Online Ordering Integration (Optional)", "Online Payment Integration (Optional)", "Multi Lingual (Optional)", "Custom Dynamic Forms (Optional)", "Signup Area (For Newsletters, Offers etc.)", "Search Bar", "Live Feeds of Social Networks integration (Optional)", "Mobile Responsive", "60 Seconds 2D Explainer Video", "Voice â€“ Over & Sound Effects", "Professional Script Writing", "Storyboard", "SEO Meta Tags", "Free Google Friendly Sitemap", "Search Engine Submission", "Complete W3C Certified HTML", "Industry Specified Team of Expert Designers and Developers", "Complete Deployment", "Dedicated Accounts Manager", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Interactive Portal", price: 4999.99, features: ["Unlimited Page Website", "Custom Content Management System (CMS)", "Unique Pages and UI Design", "Complete Custom Development", "Process Automation Tools", "Newsfeed Integration", "Social Media Plugins Integration", "Upto 40 Stock images", "10 Unique Banner Designs", "JQuery Slider", "Search Engine Submission", "Free Google Friendly Sitemap", "Custom Email Addresses", "Social Media Page Designs (Facebook, Twitter, Instagram)", "Complete W3C Certified HTML", "Complete Deployment", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "Money Back Guarantee", "Key features", "Automated Course Creation", "Video Conferencing", "Skills/Certification Tracking", "Mobile Learning", "Asynchronous Learning", "CRM Features", "Gamification", "Social Learning/Message Boards", "Motivational Triggers", "Forums And Webinars", "E-commerce And Subscriptions", "Online Course Booking", "Excellent Reporting", "Invoicing Integration", "Financial Integrations", "Student Information management", "Automated communications", "Learning Management System", "Quick And Easy Course Scheduling", "Reporting And Data Analysis", "Assessment Management & Live Feedback", "Gradebooks", "Quick User Integration", "Easy Payment Methods", "Online Communities & Social Engagement", "Curation of Resources And Adding Own Resources"], cta: { label: "Select Plan" } },
  { title: "Custom CRM Portal ", price: 6999.99, features: ["Unlimited Page Website", "Unique Pages and UI Design", "Complete Custom Development", "Newsfeed Integration", "CRM (Customer Relation Management System)", "Performance and analytics", "Customization of Personal Details", "Process management", "Sales Automation", "Team Collaboration", "Marketing Automation", "Security", "Integrations", "Sales Reports", "Trend Analytics", "Forecasting", "Territory Management", "Account Management", "Event Integration", "Advanced Data Security", "Account Management", "Opportunity Management", "Sales Forecasting", "Quotes", "Contracts", "Document Library", "Case Management", "Analytics and Dashboards", "Lead Management", "Resource Management", "Analytics", "Web Intelligence", "Automated Emails, Invoices & Estimates", "Automated Split invoicing", "Automated Combine invoices", "Invoice templates", "Financial Reports", "Generate automated sales reports", "Core Features", "Reporting", "Accounting", "Tracking and Visibility", "Centralized Modules", "Human Resources Management", "Business Process Management", "Enterprise Analytics", "Business Intelligence", "Centralized Modules", "Accounting", "Distribution", "Business Intelligence", "Insights", "Standardization", "Procurement", "Reporting and Analytics", "Projection", "Enterprise-wide integration", "Real-Time Operations", "Problem definition", "Description of the programâ€™s objectives and scope", "Assumptions", "Implementation costs", "Implementation schedule", "Development and operational risks", "Projected benefits", "Team Members", "Contracts", "Infrastructure Upgrades", "Create work plans and timelines", "Analyze gaps", "Configure parameters", "Migrate data", "Test system", "Document system", "Online Payment Solutions (optional)", "Advanced Admin Features 2.0", "User Signup/Login Functionalities", "Advanced User Features", "User Profile Management", "General Configuration Features", "Complete W3C Certified HTML", "Complete Deployment", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "Money Back Guarantee"], cta: { label: "Select Plan" } },
];

const ecommercePlans: Plan[] = [
  { title: "Beginners E-Commerce", price: 999, features: ["Upto 15 Unique Pages Website", "Conceptual and Dynamic Website", "Content Management System (CMS)", "Mobile Responsive", "Easy Product Search", "Product Reviews", "Up To 100 Products", "Up To 7 Categories", "Full Shopping Cart Integration", "Payment Module Integration", "Jquery Slider", "Free Google Friendly Sitemap", "Complete W3C Certified HTML", "Facebook Page Design", "Twitter Page Design", "YouTube Page Design", "Complete Deployment", "Dedicated Accounts Manager", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee"], cta: { label: "Select Plan" } },
  { title: "Corporate E-Commerce", price: 1799, highlight: true, features: ["Unlimited Unique Pages Website", "Conceptual and Dynamic Website", "Content Management System (CMS)", "Mobile Responsive", "Easy Product Search", "Product Reviews", "Unlimited Products", "Unlimited Categories", "Full Shopping Cart Integration", "Payment Module Integration", "Sales & Inventory Management", "Jquery Slider", "Free Google Friendly Sitemap", "Custom Email Addresses", "Complete W3C Certified HTML", "Facebook Page Design", "Twitter Page Design", "YouTube Page Design", "Instagram Page Design", "Complete Deployment", "Dedicated Accounts Manager", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee"], cta: { label: "Select Plan" } },
  { title: "Elite E-Commerce", price: 3695, features: ["UNLIMITED Logo Design Concepts", "By 6 Award Winning Designers", "Icon Design", "UNLIMITED Revisions", "Print Media", "Stationary Design (BusinessCard,Letterhead & Envelope)", "Invoice Design, Email Signature", "Bi-Fold Brochure (OR) 2 Sided Flyer Design", "Product Catalog Design", "Sign age Design (OR) Label Design", "T-Shirt Design (OR) Car Wrap Design", "Website", "E-Commerce Store Design", "Product Detail Page Design", "Unique Banner Slider", "Featured Products Showcase", "Full Shopping Cart Integration", "Unlimited Products", "Unlimited Categories", "Product Rating & Reviews", "Easy Product Search", "Payment Gateway Integration", "Multi-currency Support", "Content Management System", "Cutomer Log-in Area", "Mobile Responsive", "Social Media Plugins Integration", "Tell a Friend Feature", "Social Media Pages", "Facebook , Twitter, YouTube, Google+ & Pinterest Page Designs", "Value Added Services", "Dedicated Account Manager", "Unlimited Revisions", "All Final File Formats", "100% Ownership Rights", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Automated E-Commerce", price: 11599, features: ["Unlimited Page Website", "Custom Content Management System (CMS)", "Unique Pages and UI Design", "Complete Custom Development", "Process Automation Tools", "Newsfeed Integration", "Social Media Plugins Integration", "Upto 40 Stock images", "10 Unique Banner Designs", "JQuery Slider", "Search Engine Submission", "Free Google Friendly Sitemap", "Custom Email Addresses", "Social Media Page Designs (Facebook, Twitter, Instagram)", "Complete W3C Certified HTML", "Complete Deployment", "100% Satisfaction Guarantee", "100% Unique Design Guarantee", "Money Back Guarantee", "Automated Inventory/Shipping/Supplier Module: Manage thousands to millions of inventory with ease and check stock levels in real-time. Receive low inventory notifications and generate purchase orders to replenish your stock.", "Suppliers Integration (API NEEDED)", "Shipper Integration (API NEEDED)", "Order management", "LOT numbers and expire date tracking", "Transfer stock between warehouses (If Warehouse â€“ API NEEDED)", "Receive stock into a specific warehouse (If Warehouse â€“ API NEEDED)", "Fulfill orders from a particular warehouse (If Warehouse â€“ API NEEDED)", "Stock Management", "Actionable Insights", "Real- Time Visibility", "Inventory Opportunities", "Advanced Features: (API Needed For Suppliers/Warehouse)", "Speak to suppliers during trivial conversations.", "Set and send actions to suppliers regarding governance and compliance materials. Place purchasing requests.", "Research and answer internal questions regarding procurement functionalities or a supplier/supplier set.", "Receiving/filing/documentation of invoices and payments/order requests", "Machine Learning (ML) for Supply Chain Planning (SCP)", "Machine Learning for Warehouse Management", "Natural Language Processing (NLP) for Data Cleansing and Building Data Robustness", "Automated Invoices & Estimates", "Create beautiful, professional invoices & estimates in just a few seconds and then instantly email them as PDFâ€™s directly to your customers or prospects.", "Automated Split invoicing", "Automated Combine invoices", "Invoice templates", "Automated Barcode Scanning", "Scan inventory into your orders, generate barcodes for your documents, and search for inventory or documents by scanning barcodes.", "Locations and Zones", "Have multiple warehouses, offices, or retail stores? No problem. Easily track where all your inventory is by organizing everything into locations and zones. Organize inventory items using custom attributes such as size, color, and location. View how many you have globally or at each location.", "Customer Accounts", "Performance and analytics", "Customization of Personal Details", "Process management", "Sales Automation", "Team Collaboration", "Marketing Automation", "Security", "Integrations", "Mobile Notifications", "Sales Reports", "Trend Analytics", "Forecasting", "Territory Management", "Account Management", "Event Integration", "Advanced Data Security", "Purchase Orders", "With integrated purchase orders, you can easily replenish your inventory levels by ordering more stock and even track when those new items will arrive.", "Partial orders fulfill", "Backordering", "Financial Reports", "Generate extremely detailed reports for your inventory, sales and services. Filter your reports by date-range and category to see whatâ€™s making you the most money."], cta: { label: "Select Plan" } },
];

const seoPlans: Plan[] = [
  { title: "Startup Seo Package", price: 499, features: ["5 Keywords", "Guaranteed Ranking on Google", "Off-site Optimization", "Link Building", "Social Bookmarking", "Basic Analytical Report", "In-depth Site Analysis", "Content Duplicity Check", "Initial Backlinks analysis", "Google Penalty Check", "Mobile Usability Check", "Competition Analysis", "Keyword Research", "Informational Content Writing & Sharing (2 â€“ Per Month)", "Blog Writing (1 â€“ Per Month)", "Press Release Social Bookmarking (5 â€“ Per Month)", "NAP Syndication", "Google My Business / Bing Local Listing", "Citation Building", "Classified Submissions", "Google Analytics Analysis Report", "SEO Reports", "Search Engine Rank Report", "Dedicated Accounts Manager", "Monthly Action Plan", "Activity Report"], cta: { label: "Select Plan" } },
  { title: "Identity SEO Package", price: 849, highlight: true, features: ["10 Keywords", "Guaranteed Ranking on Google", "Off-site Optimization", "On-site Optimization", "Link Building", "Social Bookmarking", "In-depth Site Analysis", "Content Duplicacy Check", "Initial Backlinks analysis", "Google Penalty Check", "Mobile Usability Check", "Competition Analysis", "Keyword Research", "Title & Meta Tags Optimization", "Content Optimization", "Page Speed Analysis & Optimization", "HTML Code Cleanup & Optimization", "Internal Link Structuring & Optimization", "Pages H tags Optimization", "Canonicalization/301 Redirect", "Website Page Load Optimization", "Schema Markup Implementation", "Image & Hyperlink Optimization", "Robots.txt Creation/Analysis", "Blog Writing (2 â€“ Per Month)", "Informational Content Writing & Sharing (1 Per Month)", "Press Release Writing & Distribution", "Press Release Social Bookmarking", "Google Webmaster Tools Setup", "Google Analytics Setup & Integration"], cta: { label: "Select Plan" } },
  { title: "Elite SEO Package", price: 1549, features: ["20 Keywords", "Guaranteed Ranking on Google", "Off-site Optimization", "On-site Optimization", "Link Building", "Social Bookmarking", "In-depth Site Analysis", "Content Duplicacy Check", "Initial Backlinks analysis", "Google Penalty Check", "Mobile Usability Check", "Competition Analysis", "Keyword Research", "Page Speed Analysis & Optimization", "Title & Meta Tags Optimization", "Content Optimization", "HTML Code Cleanup & Optimization", "Internal Link Structuring & Optimization", "Pages H tags Optimization", "Canonicalization/301 Redirect", "Website Page Load Optimization", "Robots.txt Creation/Analysis", "Press Release Writing & Distribution", "Press Release Social Bookmarking", "Schema Markup Implementation", "Image & Hyperlink Optimization", "Google Webmaster Tools Setup", "Google Analytics Setup & Integration", "Blog Writing (2 â€“ Per Month)", "Informational Content Writing & Sharing (1 Per Month)"], cta: { label: "Select Plan" } },
  { title: "Professional SEO Package", price: 2149, features: ["30 Keywords", "Guaranteed Ranking on Google", "Off-site Optimization", "On-site Optimization", "Link Building", "Social Bookmarking", "In-depth Site Analysis", "Content Duplicacy Check", "Initial Backlinks analysis", "Google Penalty Check", "Mobile Usability Check", "Competition Analysis", "Keyword Research", "Page Speed Analysis & Optimization", "Title & Meta Tags Optimization", "Content Optimization", "HTML Code Cleanup & Optimization", "Internal Link Structuring & Optimization", "Pages H tags Optimization", "Canonicalization/301 Redirect", "Website Page Load Optimization", "Robots.txt Creation/Analysis", "Press Release Writing & Distribution", "Press Release Social Bookmarking", "Schema Markup Implementation", "Image & Hyperlink Optimization", "Google Webmaster Tools Setup", "Google Analytics Setup & Integration", "Blog Writing (2 â€“ Per Month)", "Informational Content Writing & Sharing (1 Per Month)"], cta: { label: "Select Plan" } },
];

const smmPlans: Plan[] = [
  { title: "Social Identity", price: 149, features: ["Social Business Accounts Creation (any 3 networks)", "Cover Photo Design", "Welcome Page Design", "Profile Picture Design", "2 Cover Photo Design", "3 Custom Posts"], cta: { label: "Select Plan" } },
  { title: "Basic Monthly", price: 499, highlight: true, features: ["2 Postings per week, per network (Facebook, Instagram)", "Content Creation", "Social Page Optimization", "Social Media Strategy", "Monthly Progress Report", "Facebook/Instagram Likes Campaign [+$100]", "Paid Boosting (additional charges as per the budget)"], cta: { label: "Select Plan" } },
  { title: "Standard Monthly", price: 899, features: ["5 Postings per week, per network (Facebook, Instagram)", "Social Page Optimization", "Social Media Strategy", "Comment Moderation", "Spam Monitoring", "Reputation Management", "Monthly Progress Report", "Facebook/Instagram Likes Campaign [+ $100]", "Paid Boosting (additional charges as per the budget)"], cta: { label: "Select Plan" } },
  { title: "Advanced Monthly", price: 1299, features: ["6 Postings per week, per network (Facebook, Instagram)", "One 45sec Video w/Voiceover", "Content Creation", "Social Account Setup", "Social Page Optimization", "Business Page Optimization", "Banners and Profile Pics", "Social Media Strategy", "Facebook/Instagram Likes Campaign ($100 Campaign)", "Comment Moderation", "Spam Monitoring"], cta: { label: "Select Plan" } },
  { title: "Social Elite", price: 3600, features: ["Choose From Facebook, Twitter, Instagram", "30 Posts Per Month", "12 Custom Images", "6 Boosted Posts", "$600 Ad Spend Required", "Social Media Strategy", "Social Media Audit", "Social Recommendations", "Brand Analysis", "Dedicated Project Manager", "Facebook/Instagram Likes ($200 Campaign)", "Daily Monitoring of Social Assets", "Daily Monitoring of Boosted Posts", "24 Hours Customer Response Time", "Social Media Setup", "Social Media Configuration", "Profile Photos And Banners", "Paid Boosting (additional charges as per the budget)"], cta: { label: "Select Plan" } },
  { title: "Social Enterprise", price: 5700, features: ["Choose From Facebook, Twitter & Instagram", "40 Posts Per Month", "16 Custom Images", "8 Boosted Posts", "$800 Ad Spend Required", "Social Media Strategy", "Social Media Audit", "Social Recommendations", "Brand Analysis", "Dedicated Project Manager", "Daily Monitoring of Social Assets", "Daily Monitoring of Boosted Posts", "24 Hours Customer Response Time", "Social Media Setup", "Social Media Configuration", "Profile Photos And Banners", "Facebook/Instagram ($400 Campaign)", "Paid Boosting (additional charges as per the budget)"], cta: { label: "Select Plan" } },
  { title: "Golden Social Enterprise", price: 14850, features: ["Social Enterprise Package Included", "Social Account Creation", "Social Account Audit And Management (Facebook, LinkedIn, Instagram, Twitter)", "Number of Posts (Content Creation And Design Management)", "Gif Creation", "Monthly Content Calendar", "SMM Strategy Building", "Clients Approval Per Post", "Posts Sharing And Hash Tagging", "Monthly Achievements Reporting", "FB And Insta Ads Campaign Management Charges", "Client Advertisement Budget Per Day", "Ad Spending And Achievement Reports Will Be Shared", "Animated Video (Without Voice Over And Script)", "Cover Photo Design", "Profile Picture Design", "6 Cover Photo Design", "3 Custom Posts"], cta: { label: "Select Plan" } },
  { title: "Platinum Social Enterprise", price: 24700, features: ["Golden Enterprise Package Included","Social Account Creation","Social Account Audit And Management (Facebook, LinkedIn, Instagram, Twitter)","Number of Posts (Content Creation And Design Management)","Gif Creation","Monthly Content Calendar","SMM Strategy Building","Clients Approval Per Post","Posts Sharing And Hash Tagging","Monthly Achievements Reporting","FB And Insta Ads Campaign Management Charges","Client Advertisement Budget Per Day","Ad Spending And Achievement Reports Will Be Shared","Animated Video (Without Voice Over And Script)","Cover Photo Design","Profile Picture Design","9 Cover Photo Design","5 Custom Posts","Customization Options","Personalized Strategies","Transparent Reporting","Routine Consultations","Account Setup And Optimization","Upfront Prices"], cta: { label: "Select Plan" } },
];

const comboPlans: Plan[] = [
  { title: "Basic Combo Package", price: 499, features: ["5 Custom Logo Design Concepts","By 2 Designers","Icon Design","Business Card, Letterhead, Envelope, Fax Template","MS Word Letterhead","5 Page Website","Mobile Responsive","Team of Expert Designers & Developers","8 Stock Images","5 Banner Designs","jQuery Sliders","Free Google Friendly Sitemap","Complete W3C Certified HTML","Complete Deployment","Facebook Page Design","Twitter Page Design","YouTube Page Design","All Final File Formats","Dedicated Account Manager","100% Ownership Rights","100% Satisfaction Guarantee","100% Unique Design Guarantee","100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Startup Combo Package", price: 999, highlight: true, features: ["5 Pages Professional Copywriting Service","Creative & Well-Written by 2 Professional Copywriters","Industry Specified Expert Copywriters","300 Words Per Page","10 Revisions","5 to 7 Business Days Rotation","According To Your Exact Requirements","Proofing by our in-house experts","FREE Meta details With each custom page, we will provide a catchy title, keywords and page description.","SEO friendly Your keyword(s) will be placed in the title, the first & last paragraphs and throughout the web copy in a natural and fluent manner","100% Ownership Rights","100% Original Content","100% Approval Assurance","30 Days Refund Warranty","Unlimited Logo Design Concepts","+ Social Media Design","Mobile Responsive","3 Dedicated Designers","Icon Design","Business Card, Letterhead, Envelope","MS Word Letterhead","UNLIMITED Pages Website","Content Management System (CMS)","5 Stock Photos + 3 Banner Designs","Complete W3C Certified HTML","Complete Deployment","Facebook Page Design","Twitter Page Design","YouTube Page Design","All Final File Formats","Dedicated Account Manager","100% Ownership Rights","100% Satisfaction Guarantee","100% Unique Design Guarantee","100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Professional Package", price: 1499, features: ["Unlimited Logo Concepts","8 Dedicated Designers","Icon Design","2 Free Custom Stationary Designs","MS Word Letterhead","Trifold Brochure Design","Presentation Folder Design","Conceptual and Dynamic Liquid Website","Team of Expert Designers & Developers","Mobile Responsive","Online Reservation/Appointment Tool (Optional)","Custom Forms","Lead Capturing Forms (Optional)","Newsfeed Integration","Social Media Integration","Search Engine Submission","15 Stock images","8 Unique Banner Designs","jQuery Sliders","Free Google Friendly Sitemap","Complete W3C Certified HTML","Facebook Page Design","Twitter Page Design","YouTube Page Design","Google+ Page Design","All Final File Formats","Dedicated Account Manager","100% Ownership Rights","100% Satisfaction Guarantee","100% Unique Design Guarantee","100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Corporate Combo Package", price: 1999, features: ["Unlimited Logo Concepts","8 Dedicated Designers","Icon Design","2 Free Custom Stationary Designs","MS Word Letterhead","Invoice Design","Product Catalog Design","Unlimited Pages Website","Conceptual and Dynamic Website","Content Management System (CMS)","Easy Product Search","Product Reviews","Unlimited Products","Unlimited Categories","Promotional Product Showcase","New Product Showcase","Full Shopping Cart Integration","Payment Module Integration","Sales & Inventory Management","Custom Forms","Lead Capturing Forms (Optional)","Newsfeed Integration","Social Media Integration","Search Engine Submission","Team of Dedicated Designers, Developers and Brand Experts","20 Stock images","6 Unique Banner Designs","jQuery Slider","Free Google Friendly Sitemap","Complete W3C Certified HTML","Facebook Page Design","Twitter Page Design","YouTube Page Design","Google+ Page Design","Pinterest Page Design","All Final File Formats","Dedicated Account Manager","100% Ownership Rights","100% Satisfaction Guarantee","100% Unique Design Guarantee","100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
  { title: "Elite Combo Package", price: 2499, features: ["Unlimited Logo Concepts","8 Dedicated Designers","Icon Design","2 Free Custom Stationary Designs","MS Word Letterhead","Complete Custom Design & Development","Client/User Dashboard Area","Custom Coding","Custom PHP Development","Content Management System (CMS)","Online Appointment/Scheduling/Online Ordering Integration (Optional)","Online Payment Integration (Optional)","Multi Lingual (Optional)","Custom Dynamic Forms (Optional)","Signup Area (For Newsletters, Offers etc.)","Invoice Design","Search Bar","Live Feeds of Social Networks integration (Optional)","Mobile Responsive Web","Search Engine Submission","Module-wise Architecture","Extensive Admin Panel","Award Winning Team of Expert Designers and Developers","Complete Deployment","Facebook Page Design","Twitter Page Design","YouTube Page Design","100% Custom Designs â€“ No Templates","100% Satisfaction Guarantee","100% Unique Design Guarantee","100% Money Back Guarantee *"], cta: { label: "Select Plan" } },
];

const animationPlans: Plan[] = [
  { title: "Intro Video Animation", price: 159, features: ["15s Duration â€“ HD 1080","Professional Script","Storyboard","Sample Themes","Custom Setting, Characters & Graphics","Animation Effects & Visualization","Voice â€“ Over & Sound Effects (All accents) (M/F)","Unlimited Revisions"], cta: { label: "Select Plan" } },
  { title: "Startup Video Package", price: 259, highlight: true, features: ["30s Duration â€“ HD 1080","Professional Script","Storyboard","Sample Themes","Custom Setting, Characters & Graphics","Animation Effects & Visualization","Voice â€“ Over & Sound Effects (All accents) (M/F)","Unlimited Revisions"], cta: { label: "Select Plan" } },
  { title: "Classic Video Package", price: 399, features: ["60 Second Video â€“ HD 1080","Professional Script","Sample Theme","Storyboard","Animation","Voice â€“ Over & Sound Effects","5 weeks Delivery","Unlimited Revisions"], cta: { label: "Select Plan" } },
  { title: "Premium Video Package", price: 699, features: ["90 Second Video â€“ HD 1080","Professional Script","Sample Theme","Storyboard","Animation","Voice â€“ Over & Sound Effects","6 Weeks Delivery","Unlimited Revisions"], cta: { label: "Select Plan" } },
  { title: "Deluxe Video Package", price: 999, features: ["120 Second Video â€“ HD 1080","Professional Script","Sample Theme","Storyboard","Animation","Voice â€“ Over & Sound Effects","Unlimited Revisions"], cta: { label: "Select Plan" } },
];

const TABS = [
  { id: "logo", label: "Logo Design", plans: logoPlans },
  { id: "web", label: "Web Design", plans: webPlans },
  { id: "ecom", label: "E-commerce", plans: ecommercePlans },
  { id: "seo", label: "SEO", plans: seoPlans },
  { id: "smm", label: "SMM", plans: smmPlans },
  { id: "combo", label: "Combo", plans: comboPlans },
  { id: "anim", label: "Animation", plans: animationPlans },
] as const;

type TabId = typeof TABS[number]["id"];

export default function TabbedPackages() {
  const [active, setActive] = useState<TabId>("logo");
  const [openInquiry, setOpenInquiry] = useState(false);

  // deep-linking via hash
  useEffect(() => {
    const fromHash = (location.hash || "").replace("#", "");
    if (TABS.some(t => t.id === fromHash)) setActive(fromHash as TabId);
  }, []);

  useEffect(() => {
    if (typeof window !== "undefined") window.history.replaceState(null, "", `#${active}`);
  }, [active]);

  const onKeyDown = useCallback((e: React.KeyboardEvent<HTMLDivElement>) => {
    const idx = TABS.findIndex(t => t.id === active);
    if (e.key === "ArrowRight") {
      const next = (idx + 1) % TABS.length; setActive(TABS[next].id); e.preventDefault();
    } else if (e.key === "ArrowLeft") {
      const prev = (idx - 1 + TABS.length) % TABS.length; setActive(TABS[prev].id); e.preventDefault();
    }
  }, [active]);

  // Inject CTA.onClick for every plan so it opens the modal
  const tabsWithModalCTA = useMemo(() => {
    return TABS.map(t => ({
      ...t,
      plans: t.plans.map(p => ({
        ...p,
        cta: {
          ...(p.cta ?? {}),
          label: p.cta?.label ?? "", // Ensure label is always a string
          onClick: () => setOpenInquiry(true),
        },
      })),
    }));
  }, []);

  return (
    <section className="tabs" aria-labelledby="packages-title">
      <div className="container">
        <h2 id="packages-title" className="visually-hidden">Packages</h2>

        <div className="tablist" role="tablist" aria-label="Package Categories" onKeyDown={onKeyDown}>
          {TABS.map((t) => (
            <button
              key={t.id}
              role="tab"
              id={`tab-${t.id}`}
              aria-selected={active === t.id}
              aria-controls={`panel-${t.id}`}
              tabIndex={active === t.id ? 0 : -1}
              className={`tab ${active === t.id ? "is-active" : ""}`}
              onClick={() => setActive(t.id)}
            >
              {t.label}
            </button>
          ))}
        </div>

        {tabsWithModalCTA.map((t) => (
          <div
            key={t.id}
            role="tabpanel"
            id={`panel-${t.id}`}
            aria-labelledby={`tab-${t.id}`}
            hidden={active !== t.id}
            className="panel"
          >
            <PricingSection plans={t.plans} />
          </div>
        ))}
      </div>

      {/* One modal instance for all plans */}
      <ServiceInquiryModal open={openInquiry} onClose={() => setOpenInquiry(false)} />

      <style jsx>{`
        :root { --ink:#fff; --bg: transparent; --pill:#0f1c2d; --pill2:#132540; --accent:#0ea5ea; --accent2:#2563eb; }
        .tabs { background: var(--bg); padding: 28px 16px; color: var(--ink); }
        .container { max-width: 1200px; margin: 0 auto; }
        .tablist { display: grid; grid-auto-flow: column; gap: 10px; justify-content: center; overflow: auto; padding: 6px; border-radius: 16px; }
        .tab { appearance: none; border: 0; cursor: pointer; padding: 12px 16px; border-radius: 999px; color: var(--ink); background: linear-gradient(180deg, var(--pill), var(--pill2)); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06); font-weight: 600; white-space: nowrap; }
        .tab:is(:hover, :focus-visible) { outline: none; box-shadow: 0 0 0 2px rgba(14,165,234,0.35); }
        .tab.is-active { background: #FFF; color: #000; box-shadow: 0 10px 24px rgba(14,165,234,0.35); }
        .panel { margin-top: 12px; }
        .visually-hidden { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,1,1); white-space: nowrap; border: 0; }
      `}</style>
    </section>
  );
}
